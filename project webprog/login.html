<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Login</title>
  <link rel="stylesheet" href="frontend/libraries/bootstrap/css/bootstrap.css" />
  <link rel="stylesheet" href="frontend/libraries/owlcarousel/owl.carousel.min.css">
  <link rel="stylesheet" href="frontend/libraries/owlcarousel/owl.theme.default.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="shortcut icon" href="frontend/images/agslogo.png">
  <link rel="stylesheet" href="frontend/styles/main.css">
</head>

<body onload="setRandomColor(); showImage(); ">

  <div class="container">
    <div class="row">
      <div class="col">
        <a href="landing.html">
          <h1 id="logoLogin" style="font-family: Zealot; margin: 10px;" class="text-center">AGStore</h1>
        </a>
      </div>
    </div>

  </div>
  </div>

  <div class="container">
    <div class="row">
      <div class="col-md-6">
        <div class="d-none d-md-block banner-login">
          <div class=""> <img id="bannerLogin" style="width: 100%; object-fit: contain; height: 90vh;"></div>

        </div>
      </div>
      <div class="col-md-6">
        <div class="card" style="margin-top: 10%;">
          <ul class="nav nav-tabs justify-content-center" id="myTab" role="tablist">
            <li class=" nav-item nav-login w-50">
              <a class="nav-link active" id="home-tab" data-toggle="tab" href="#login" role="tab" aria-controls="home"
                aria-selected="true">
                <div class="display-4 text-center mb-4" style="font-size: 20px;">
                  <b>Sign In</b>
                </div>
              </a>
            </li>
            <li class="nav-item nav-login w-50">
              <a class="nav-link" id="profile-tab" data-toggle="tab" href="#register" role="tab" aria-controls="profile"
                aria-selected="false">
                <div class="display-4 text-center mb-4" style="font-size: 20px;">
                  <b>Register</b>
                </div>
              </a>
            </li>
          </ul>
          <div class="tab-content" id="myTabContent">
            <div class="tab-pane fade show active" id="login" role="tabpanel" aria-labelledby="home-tab">
              <div class="container">
                <div class="row">
                  <div class="col">
                    <div class="display-4 text-center mb-4" style="font-size: 40px;">
                      Sign In
                    </div>
                    <form action="">
                      <input class="input-login mb-4" type="text" required name="" id="" placeholder="Email">
                      <input class="input-login mb-4" type="password" required name="" id="" placeholder="Password">
                      <button type="submit" class="btn btn-utama mb-5"
                        style="width: 100%; border-radius: 10px;">Login</button>
                    </form>
                    
                    <p><a href="#" class="text-primary" data-toggle="modal" data-target="#forgotModal">Lupa Password? Klik disini</a></p>
                  </div>
                </div>
              </div>
            </div>
            <div class="tab-pane fade" id="register" role="tabpanel" aria-labelledby="profile-tab">
              <div class="container">
                <div class="row">
                  <div class="col">
                    <div class="display-4 text-center mb-4" style="font-size: 40px;">
                      Register
                    </div>
                    <form action="">
                      <input class="input-login mb-4" type="email" required name="" id="emailReg"
                        placeholder="New Email">
                      <input class="input-login mb-4" type="password" id="passReg" name="passReg" placeholder="Password"
                        pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
                        title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters"
                        required>
                      <div id="message">
                        <h5 class="text-muted">Password harus mengandung setidaknya:</h5>
                        <p id="letter" class="invalid">Sebuah <b>huruf kecil</b></p>
                        <p id="capital" class="invalid">Sebuah <b>huruf Kapital</b> </p>
                        <p id="number" class="invalid">Sebuah <b>angka</b></p>
                        <p id="length" class="invalid">minimal <b>8 karakter</b></p>
                        
                      </div>
                      <input class="input-login mb-4" type="password" required name="" id="rePassReg"
                        placeholder="Re-Type Password">
                      <div id="message2">
                        <p id="reValidate" class="invalid">Password tidak sama</p>
                      </div>
                      <input class="input-login mb-4" type="text" required name="" id="nameReg"
                        placeholder="Nama Lengkap (Untuk Pengiriman Barang)">
                      <input class="input-login mb-4" type="text" required name="" id="addressReg"
                        placeholder="Alamat (Untuk Pengiriman Barang)">
                      <input class="input-login mb-4" maxlength="5" required type="tel" placeholder="Kode Pos">
                      <input class="input-login mb-4" maxlength="12" required type="tel"
                        placeholder="No.Telp (Untuk Pengiriman Barang)">
                        
                        <div class="form-check">
                          <input type="checkbox" class="form-check-input" id="exampleCheck1" required>
                          <label class="form-check-label text-muted" for="exampleCheck1">Dengan ini, saya menyatakan telah mengisi data yang benar, dan bertanggung jawab atas data yang saya masukkan</label>
                        </div>

                      <button type="submit" class="btn btn-utama mb-5" id="btnReg"
                        style="width: 100%; border-radius: 10px;" onclick="validate()">Register</button>
                    </form>
                  </div>
                </div>
              </div>
            </div>
            
          </div>
          
        </div>
      </div>

    </div>
  </div>

  <!-- Modal -->
<div class="modal fade" id="forgotModal" tabindex="-1" role="dialog" aria-labelledby="forgotModal" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Lupa Password</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form action="">
          <p><div class="text-muted">Password akan dikirimkan ke Email Tertuju (Jika terdaftar)</div></p>
          <input class="input-login mb-4 input-forgot" type="email" required name="" id="" placeholder="Masukkan email" title="Email harus valid">
          <input type="text" hidden value="saya lupa password saya dengan Email tertera">
          <button type="submit" class="btn btn-utama form-control btn-forgot" onclick="showMessage()">Submit</button>
        </form>

        <p class="text-danger message-forgot" style="display: none;">Silahkan cek email anda dalam beberapa menit</p>
      </div>
        
    </div>
  </div>
</div>



  <script src="frontend/libraries/jquery/jquery-3.4.1.min.js"></script>
  <script src="frontend/libraries/bootstrap/js/bootstrap.js"></script>
  <script src="frontend/scripts/main.js"></script>

  <script>
    var theImages = new Array()


    theImages[0] = './frontend/images/Banner-login2.jpg'
    theImages[1] = './frontend/images/Banner-login.jpg'
    theImages[2] = './frontend/images/Banner-login3.jpg'
    theImages[3] = './frontend/images/Banner-login4.png'


    var j = 0
    var p = theImages.length;
    var preBuffer = new Array()
    for (i = 0; i < p; i++) {
      preBuffer[i] = new Image()
      preBuffer[i].src = theImages[i]
    }
    var whichImage = Math.round(Math.random() * (p - 1));


    function showImage() {
      document.getElementById('bannerLogin').src = theImages[whichImage]
    }
  </script>

  </script>
  <script>
    function getRandomColor() {
      var letters = '0123456789ABCDEF';
      var color = '#';
      for (var i = 0; i < 6; i++) {
        color += letters[Math.floor(Math.random() * 16)];
      }
      return color;
    }
  </script>


  <script>
    function setRandomColor() {
      $("#logoLogin").css("color", getRandomColor());
    }
  </script>
</body>

<!--validate-->

<script>
  var myInput = document.getElementById("passReg");
  var myInput2 = document.getElementById("rePassReg");
  var letter = document.getElementById("letter");
  var capital = document.getElementById("capital");
  var number = document.getElementById("number");
  var length = document.getElementById("length");
  var reValidate = document.getElementById("reValidate");

  // When the user clicks on the password field, show the message box
  myInput.onfocus = function () {
    document.getElementById("message").style.display = "block";
  }

  myInput2.onfocus = function () {
    document.getElementById("message2").style.display = "block";
    if (myInput2.value == myInput.value && myInput2.value != '') {
      reValidate.classList.remove("invalid");
      reValidate.classList.add("valid");
      reValidate.innerText = "password sama";
    } else {
      reValidate.classList.remove("valid");
      reValidate.classList.add("invalid")
      reValidate.innerText = "password tidak sama";
    }
  }
  // When the user clicks outside of the password field, hide the message box
  myInput.onblur = function () {
    document.getElementById("message").style.display = "none";
  }

  myInput2.onblur = function () {
    document.getElementById("message2").style.display = "none";
  }

  // When the user starts to type something inside the password field
  myInput.onkeyup = function () {
    // Validate lowercase letters
    var lowerCaseLetters = /[a-z]/g;
    if (myInput.value.match(lowerCaseLetters)) {
      letter.classList.remove("invalid");
      letter.classList.add("valid");
    } else {
      letter.classList.remove("valid");
      letter.classList.add("invalid");
    }

    // Validate capital letters
    var upperCaseLetters = /[A-Z]/g;
    if (myInput.value.match(upperCaseLetters)) {
      capital.classList.remove("invalid");
      capital.classList.add("valid");
    } else {
      capital.classList.remove("valid");
      capital.classList.add("invalid");
    }

    // Validate numbers
    var numbers = /[0-9]/g;
    if (myInput.value.match(numbers)) {
      number.classList.remove("invalid");
      number.classList.add("valid");
    } else {
      number.classList.remove("valid");
      number.classList.add("invalid");
    }

    // Validate length
    if (myInput.value.length >= 8) {
      length.classList.remove("invalid");
      length.classList.add("valid");
    } else {
      length.classList.remove("valid");
      length.classList.add("invalid");
    }
  }


  myInput2.onkeyup = function () {
    // Validate lowercase letters
    if (myInput2.value == myInput.value) {
      reValidate.classList.remove("invalid");
      reValidate.classList.add("valid");
      reValidate.innerText = "password sama";
    } else {
      reValidate.classList.remove("valid");
      reValidate.classList.add("invalid")
      reValidate.innerText = "password tidak sama";
    }

    // Validate capital letters
  }
</script>

<script>
  function validateEmail(email) {
  const re = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
  return re.test(email);
}

  function showMessage(){
    if(validateEmail($('.input-forgot').val()))
   {
     
    setTimeout(function(){  $(".btn-forgot").parent().remove()
      $(".message-forgot").css("display", "block");}, 1000);
   }
   else
   {
    $('.input-forgot').attr('title').show()
   }
     
  }
</script>
</html>